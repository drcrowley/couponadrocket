<h3>Тарифы</h3>
<hr/>
<div class="row price-row margin-top-15">
  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-3" ng-repeat="tariff in vm.tariffs">
    <div class="panel price panel-{{vm.classes[$index]}}">
      <div uib-tooltip="Enter something in this input field to disable this tooltip" class="panel-heading  text-center">
      <h4>{{tariff.name}} </h4> <span class="glyphicon glyphicon-question-sign faq-link" 
        ></span>
      </div>
      <div class="panel-body text-center">
        <p class="lead">
          <strong>
            {{ tariff.couponsCount }}
          </strong>
          <br> купонов
        </p>
      </div>
      <ul class="list-group list-group-flush text-center">
        <li class="list-group-item"><strong>{{tariff.price.price}} {{tariff.price.currency}}</strong><br>в месяц</li>
      </ul>
      <div class="panel-footer">
        <button class="btn btn-block btn-{{vm.classes[$index]}}"
        ng-if="tariff.price.price > 0"
        ng-click="vm.pay(tariff)">Оплатить</button>
      </div>
    </div>
  </div>
</div>
<div class="checkbox">
  <label>
    <input type="checkbox" ng-model="vm.agree"> Я согласен с договором <a href="#" ng-click="vm.showOffer($event)">оферты</a>
  </label>
</div>

<script type="text/ng-template" id="payment.html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" ng-click="$close()"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="modal-title">Покупка</h3>
    </div>
    <div class="modal-body" id="modal-body">
        <form class="form-horizontal margin-top-10" novalidate name="buyForm" id="buyForm" ng-submit="buyForm.$valid ? vm.buy(vm.orderData.id) : ''">
        
          <div class="form-group">
            <div class="col-md-3 sum-label"><strong>Стоимость</strong>: </div>
            <div class="col-md-9">
              {{vm.orderData.price.price}} руб.
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-3 sum-label"><strong>НДС</strong>: </div>
            <div class="col-md-9">
              18%
            </div>
          </div>             
          <div class="form-group">
            <div class="col-md-3 sum-label"><strong>Сумма</strong>: </div>
            <div class="col-md-9">
              {{vm.orderData.price.price + vm.orderData.price.price*0.18 | number:0}} руб.
            </div>
          </div>
          <div class="form-group">
            <label for="company-type" class="col-md-3 control-label">Форма организации предприятия</label>
            <div class="col-md-9">
              <select class="form-control" name="companyType" id="company-type" 
                ng-model="vm.user.companyType">
                  <option ng-selected="vm.user.companyType == 'ООО' || !vm.user.companyType.length" value="ООО">ООО</option>
                  <option ng-selected="vm.user.companyType == 'ЗАО'" value="ЗАО">ЗАО</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="company-name" class="col-md-3 control-label">Название предприятия</label>
            <div class="col-md-9">
              <input type="text" class="form-control" name="companyName" id="company-name" placeholder="" 
              ng-model="vm.user.companyName"
              ng-required="true">
            </div>
            <div class="text-danger col-md-9 col-md-offset-3" ng-messages="buyForm.companyName.$error" ng-if="buyForm.$submitted">
              <div ng-message="required">Это поле обязательно для заполнения.</div>
            </div>            
          </div>
          <div class="form-group">
            <label for="country" class="col-md-3 control-label">Страна</label>
            <div class="col-md-9">
              <input type="text" class="form-control" name="country" id="country" placeholder="" 
              ng-model="vm.user.country"
              ng-required="true">
            </div>
            <div class="text-danger col-md-9 col-md-offset-3" ng-messages="buyForm.country.$error" ng-if="buyForm.$submitted">
              <div ng-message="required">Это поле обязательно для заполнения.</div>
            </div>              
          </div>
          <div class="form-group">
            <label for="city" class="col-md-3 control-label">Город</label>
            <div class="col-md-9">
              <input type="text" class="form-control" name="city" id="city" placeholder="" 
              ng-model="vm.user.city"
              ng-required="true">
            </div>
            <div class="text-danger col-md-9 col-md-offset-3" ng-messages="buyForm.city.$error" ng-if="buyForm.$submitted">
              <div ng-message="required">Это поле обязательно для заполнения.</div>
            </div>
          </div>
          <div class="form-group">
            <label for="address" class="col-md-3 control-label">Почтовый адрес</label>
            <div class="col-md-9">
              <textarea class="form-control" rows="4" name="zip" id="zip" 
              ng-model="vm.user.zip"
              ng-required="true"></textarea>
            </div>
            <div class="text-danger col-md-9 col-md-offset-3" ng-messages="buyForm.zip.$error" ng-if="buyForm.$submitted">
              <div ng-message="required">Это поле обязательно для заполнения.</div>
            </div>  
          </div>
          <div class="form-group">
            <label for="tel" class="col-md-3 control-label">Телефон</label>
            <div class="col-md-9">
              <input type="tel" class="form-control" name="tel" id="tel" placeholder="" 
              ng-model="vm.user.phone"
              ng-required="true">
            </div>
            <div class="text-danger col-md-9 col-md-offset-3" ng-messages="buyForm.tel.$error" ng-if="buyForm.$submitted">
              <div ng-message="required">Это поле обязательно для заполнения.</div>
            </div>
          </div>
          <div class="form-group">
            <label for="email" class="col-md-3 control-label">Email</label>
            <div class="col-md-9">
              <input type="email" class="form-control" id="email" placeholder="" 
              ng-model="vm.user.email"
              ng-required="true">
            </div>
            <div class="text-danger col-md-9 col-md-offset-3" ng-messages="buyForm.email.$error" ng-if="buyForm.$submitted">
              <div ng-message="required">Это поле обязательно для заполнения.</div>
            </div>            
          </div>          
        </form>
    </div>
    <div class="modal-footer">
      <div class="clearfix">
         <button type="submit" form="buyForm" class="btn btn-primary pull-right">Купить</button>        
      </div>
    </div>
</script>

<script type="text/ng-template" id="offer.html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" ng-click="$close()"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="modal-title">Оферта</h3>
    </div>
    <div class="modal-body" id="modal-body">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit illum neque id, molestiae quos doloribus recusandae facere, minus quae odio corporis voluptatem tenetur expedita deserunt fuga, in accusamus omnis quod.
    </div>
</script>

<script type="text/ng-template" id="thank-popup.html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" ng-click="$close()"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="modal-title">Спасибо за ваш заказ</h3>
    </div>
    <div class="modal-body" id="modal-body">
      <p>Счет выслан на указанный вами e-mail или вы можете открыть его по <a ng-href="{{vm.invoiceLink}}" target="_blank">ссылке</a>.</p>
      <p>Счет оплатить можно переводом на расчетный счет или переводом на кошелек WM *номер*".</p>
    </div>
    <div class="modal-footer">
      <div class="clearfix">
         <button type="button" class="btn btn-primary pull-right" data-dismiss="modal" ng-click="$close()">Закрыть</button>        
      </div>
    </div>
</script>