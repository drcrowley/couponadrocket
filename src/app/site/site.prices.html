<div ng-controller="Prices as vm">
  <div class="row margin-top-15">
    <div class="col-md-12 col-lg-3">
      <h4>Оплата за период:</h4>
    </div>
    <div class="col-md-12 col-lg-9">
      <div class="pay-period-line row">
        <div class="col-sm-6 col-md-3" ng-repeat="period in vm.periods">
          <button type="button" class="btn btn-block btn-default btn-lg" 
            ng-class="{active : period.month == vm.choosedPeriod.month}" 
            ng-click="vm.choosePeriod(period)">
            <div class="margin-bottom-03">
              {{period.month}} 
              <ng-pluralize count="period.month"
                when="{
                  'one': 'месяц',
                  'few': 'месяца',
                  'many': 'месяцев',
                  'other': 'месяца',
                }"
              >
              </ng-pluralize>
            </div>
            <span class="label label-{{period.class}}">
              {{period.discountPercent ? period.discountPercent + '%' : 'Без скидки'}}
            </span>
          </button>
        </div>        
      </div>
    </div>
  </div>

  <div class="row price-row margin-top-10">
    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-5ths" ng-repeat="tariff in vm.tariffs">
      <div class="panel price panel-{{tariff.class}}">
        <div uib-tooltip="Enter something in this input field to disable this tooltip" class="panel-heading  text-center">
        <h4>{{tariff.title}} </h4> <span class="glyphicon glyphicon-question-sign faq-link" 
          ></span>
        </div>
        <div class="panel-body text-center">
          <p class="lead">
            <strong ng-class="{unlim : tariff.count == 'unlimited'}">
              {{ tariff.count == 'unlimited' ? 'Безлимитное' : tariff.count }}
            </strong>
            <br> {{ tariff.count == 'unlimited' ? 'количество купонов' : 'купонов в месяц' }}
          </p>
        </div>
        <ul class="list-group list-group-flush text-center">
          <li class="list-group-item"><strong>{{tariff.priceWithDiscount}} руб.</strong><br> в месяц</li>
        </ul>
        <div class="panel-footer">
          <button class="btn btn-block btn-{{tariff.class}}" 
          ng-class="{active : tariff.count == vm.choosedTariff.count}"  
          ng-click="vm.chooseTariff(tariff)">ВЫБРАТЬ</button>
        </div>
      </div>
    </div>
  </div>
  <div class="pull-right margin-top-10">
   <div class="total-price">Итого к оплате: <strong>{{vm.totalPrice}}</strong> руб.</div>
    <button type="button" class="btn btn-primary margin-left-10" ng-click="vm.pay()">Оплатить</button>
  </div>  
</div> 
